<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import model.SinhVien?> 


<BorderPane stylesheets="@styles.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.ThongKeController">
   <top>
      <!-- VBox bao quanh Label tiêu đề và HBox chọn SV -->
      <VBox fx:id="topVBox" alignment="CENTER" spacing="5.0">
         <children>
            <Label styleClass="title-label" text="THỐNG KÊ &amp; BÁO CÁO ĐIỂM" />
             <!-- HBox này sẽ bị ẩn/hiện tùy vai trò -->
            <HBox fx:id="selectionHBox" alignment="CENTER_LEFT" spacing="10.0">
               <children>
                  <Label text="Chọn sinh viên:" />
                  <ComboBox fx:id="cbSinhVien" prefWidth="250.0" promptText="Chọn sinh viên..." />
                  <Button mnemonicParsing="false" onAction="#xemThongKe" text="Xem Thống Kê" />
               </children>
               <VBox.margin>
                  <Insets bottom="10.0" top="5.0" />
               </VBox.margin>
            </HBox>
         </children>
         <padding>
            <Insets left="15.0" right="15.0" top="10.0" />
         </padding>
      </VBox>
   </top>
   <center>
       <!-- TabPane chứa các học kỳ và biểu đồ -->
      <TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE" BorderPane.alignment="CENTER">
         <BorderPane.margin>
            <Insets bottom="10.0" left="10.0" right="10.0" top="5.0" />
         </BorderPane.margin>
         <tabs>
             <!-- Các Tab học kỳ sẽ được thêm tự động từ Controller -->
             <!-- Tab Biểu đồ -->
            <Tab fx:id="tabBieuDo" closable="false" text="Biểu đồ Điểm">
               <content>
                  <VBox alignment="CENTER" spacing="10.0">
                     <children>
                        <LineChart fx:id="lineChartDiem" title="Biểu đồ Điểm Trung Bình Học Kỳ (Hệ 4)" VBox.vgrow="ALWAYS">
                          <xAxis>
                            <CategoryAxis fx:id="xAxisKy" label="Học Kỳ" />
                          </xAxis>
                          <yAxis>
                            <NumberAxis fx:id="yAxisDiem" autoRanging="false" label="Điểm GPA (Hệ 4)" lowerBound="0.0" upperBound="4.0" tickUnit="0.5" />
                          </yAxis>
                        </LineChart>
                     </children>
                     <padding>
                        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                     </padding>
                  </VBox>
               </content>
            </Tab>
             <!-- Tab Tổng kết sẽ được thêm tự động từ Controller -->
         </tabs>
      </TabPane>
   </center>
</BorderPane>